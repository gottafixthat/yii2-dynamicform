var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,k,g){a instanceof String&&(a=String(a));for(var h=a.length,l=0;l<h;l++){var n=a[l];if(k.call(g,n,l,a))return{i:l,v:n}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,k,g){a!=Array.prototype&&a!=Object.prototype&&(a[k]=g.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,k,g,h){if(k){g=$jscomp.global;a=a.split(".");for(h=0;h<a.length-1;h++){var l=a[h];l in g||(g[l]={});g=g[l]}a=a[a.length-1];h=g[a];k=k(h);k!=h&&null!=k&&$jscomp.defineProperty(g,a,{configurable:!0,writable:!0,value:k})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,g){return $jscomp.findInternal(this,a,g).v}},"es6","es3");
(function(a){var k=/^(.+?)([-\d-]{1,})(.+)$/i,g=/(^.+?)([\[\d{1,}\]]{1,})(\[.+\]$)/i;a.fn.yiiDynamicForm=function(b){return h[b]?h[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==typeof b&&b?(a.error("Method "+b+" does not exist on jQuery.yiiDynamicForm"),!1):h.init.apply(this,arguments)};var h={init:function(a){return this.each(function(){a.template=l(a)})},addItem:function(b,c,e){c=v(e,b);c<b.limit?($toclone=0==c?a(b.template):a(b.widgetItem).first(),$newclone=$toclone.clone(!1,
!1),w("[data-dynamicform^=dynamicform]",$newclone),"top"===b.insertPosition?e.closest("."+b.widgetContainer).find(b.widgetBody).prepend($newclone):e.closest("."+b.widgetContainer).find(b.widgetBody).append($newclone),p(b),q(b),r(b),e.closest("."+b.widgetContainer).triggerHandler("afterInsert",$newclone)):e.closest("."+b.widgetContainer).triggerHandler("limitReached",b.limit)},deleteItem:function(b,c,e){c=v(e,b);c>b.min&&($todelete=e.closest(b.widgetItem),!1!==a("."+b.widgetContainer).triggerHandler("beforeDelete",
$todelete)&&(y($todelete,b,c),$todelete.remove(),p(b),q(b),r(b),a("."+b.widgetContainer).triggerHandler("afterDelete")))},updateContainer:function(){var b=eval(a(this).attr("data-dynamicform"));p(b);q(b);r(b)}},l=function(b){var c=a(b.template);c.find("div[data-dynamicform]").each(function(){var b=eval(a(this).attr("data-dynamicform"));if(1<a(b.widgetItem).length){var c=a(this).find(b.widgetItem).first()[0].outerHTML;a(this).find(b.widgetBody).html(c)}});c.find("input, textarea, select").each(function(){if(a(this).is(":checkbox")||
a(this).is(":radio")){var b=a(this).is(":checkbox")?"checkbox":"radio",d=a(this).attr("name"),f=c.find('input[type="hidden"][name="'+d+'"]').first();b=c.find('input[type="'+b+'"][name="'+d+'"]').length;f&&1===b&&(a(this).val(1),f.val(0));a(this).prop("checked",!1)}else a(this).is("select")?a(this).find("option:selected").removeAttr("selected"):a(this).val("")});b=a("#"+b.formId).yiiActiveForm("data");"undefined"!==typeof b&&"undefined"!==typeof b.settings&&("undefined"!==typeof b.settings.errorCssClass&&
0<b.settings.errorCssClass.length&&c.find("."+b.settings.errorCssClass).removeClass(b.settings.errorCssClass),"undefined"!==typeof b.settings.successCssClass&&0<b.settings.successCssClass.length&&c.find("."+b.settings.successCssClass).removeClass(b.settings.successCssClass));return c},n=function(b){return eval(a("."+b.widgetContainer+" "+b.widgetBody).parents("div[data-dynamicform]").last().attr("data-dynamicform"))},t=function(a){a=a.parents("div[data-dynamicform]").length;return 0>a?0:a},v=function(a,
c){return a.closest("."+c.widgetContainer).find(c.widgetItem).length},u=function(a){return Array(a+2).join("0").split("")},w=function(b,c){c=c.find(b);a.each(c,function(c,d){c=eval(a(d).data("dynamicform")).widgetItem;a(d).find(c+":not(:nth-child(1))").remove();w(b,a(d))})},y=function(b,c,e){if(1<e){b.find("div[data-dynamicform]").each(function(){for(var b=eval(a(this).attr("data-dynamicform")),c=t(a(this)),e=u(c),d=a(this).find(b.widgetItem).length,f=1;f<=d-1;f++){var k=e;k[c]=f;b.fields.forEach(function(c){c=
c.id.replace("{}",k.join("-"));"undefined"!==a("#"+b.formId).yiiActiveForm("find",c)&&a("#"+b.formId).yiiActiveForm("remove",c)})}});b=t(b.closest("."+c.widgetContainer));var d=n(c),f=u(b);f[0]=a(d.widgetItem).length-1;f[b]=e-1;c.fields.forEach(function(b){b=b.id.replace("{}",f.join("-"));"undefined"!==a("#"+c.formId).yiiActiveForm("find",b)&&a("#"+c.formId).yiiActiveForm("remove",b)})}},z=function(b,c){var e=eval(b.closest("div[data-dynamicform]").attr("data-dynamicform")),d=b.attr("id"),f=d;if(void 0!==
d){var m=d.match(k);if(m&&4===m.length){m[2]=m[2].substring(1,m[2].length-1);var g=m[2].split("-");g[0]=c;if(1<g.length){var h=[];b.parents("div[data-dynamicform]").each(function(b){h[b]=eval(a(this).attr("data-dynamicform"))});h=h.reverse();for(c=g.length-1;1<=c;c--)"undefined"!==typeof h[c]&&(g[c]=b.closest(h[c].widgetItem).index())}f=m[1]+"-"+g.join("-")+"-"+m[3]}else f=d+c;b.attr("id",f)}d!==f&&void 0!=e&&(b.closest(e.widgetItem).find(".field-"+d).each(function(){a(this).removeClass("field-"+
d).addClass("field-"+f)}),b.closest(e.widgetItem).find("label[for='"+d+"']").attr("for",f));return f},A=function(b,c){var e=b.attr("name");if(void 0!==e){var d=e.match(g);if(d&&4===d.length){d[2]=d[2].replace(/\]\[/g,"-").replace(/\]|\[/g,"");e=d[2].split("-");e[0]=c;if(1<e.length){var f=[];b.parents("div[data-dynamicform]").each(function(b){f[b]=eval(a(this).attr("data-dynamicform"))});f=f.reverse();for(c=e.length-1;1<=c;c--)"undefined"!==typeof f[c]&&(e[c]=b.closest(f[c].widgetItem).index())}e=
d[1]+"["+e.join("][")+"]"+d[3];b.attr("name",e)}}return e},p=function(b){b=n(b);a("."+b.widgetContainer+" "+b.widgetItem).each(function(b){a(this);a(this).find("*").each(function(){z(a(this),b);A(a(this),b)})})},B=function(b,c,e,d){void 0!==c&&(c=a.extend(!0,{},c),c.id=e,c.container=".field-"+e,c.input="#"+e,c.name=d,c.value=a("#"+e).val(),c.status=0,"undefined"!==a("#"+b.formId).yiiActiveForm("find",e)&&a("#"+b.formId).yiiActiveForm("remove",e),a("#"+b.formId).yiiActiveForm("add",c))},r=function(b){b=
n(b);a(b.widgetBody).find("input, textarea, select").each(function(){var b=a(this).attr("id"),e=a(this).attr("name");void 0===b&&"radio"==a(this).attr("type")&&(b=a(this).parents().eq(2).attr("id"));if(void 0!==b&&void 0!==e){currentWidgetOptions=eval(a(this).closest("div[data-dynamicform]").attr("data-dynamicform"));var d=b.match(k);if(d&&4===d.length){d[2]=d[2].substring(1,d[2].length-1);var f=t(a(this));f=u(f-1);d=d[1]+"-"+f.join("-")+"-"+d[3];d=a("#"+currentWidgetOptions.formId).yiiActiveForm("find",
d);B(currentWidgetOptions,d,b,e)}}})},x=function(b){var c=a.extend(!0,{},eval(b.attr("data-krajee-depdrop"))),e=b.attr("id").match(k);if(e&&4===e.length)for(index=0;index<c.depends.length;++index){var d=c.depends[index].match(k);d&&4===d.length&&(c.depends[index]=d[1]+e[2]+d[3])}b.depdrop(c)},q=function(b){b=n(b);var c=a(b.widgetItem).find("[data-plugin-inputmask]");0<c.length&&c.each(function(){a(this).inputmask("remove");a(this).inputmask(eval(a(this).attr("data-plugin-inputmask")))});c=a(b.widgetItem).find("[data-krajee-kvdatetimepicker]");
0<c.length&&c.each(function(){a(this).parent().removeData().datetimepicker("remove");a(this).parent().datetimepicker(eval(a(this).attr("data-krajee-kvdatetimepicker")))});c=a(b.widgetItem).find("[data-krajee-kvdatepicker]");0<c.length&&c.each(function(){a(this).parent().removeData().kvDatepicker("remove");a(this).parent().kvDatepicker(eval(a(this).attr("data-krajee-kvdatepicker")))});c=a(b.widgetItem).find("[data-krajee-timepicker]");0<c.length&&c.each(function(){a(this).removeData().off();a(this).parent().find(".bootstrap-timepicker-widget").remove();
a(this).unbind();a(this).timepicker(eval(a(this).attr("data-krajee-timepicker")))});c=a(b.widgetItem).find("[data-krajee-maskMoney]");0<c.length&&c.each(function(){a(this).parent().find("input").removeData().off();var b="#"+a(this).attr("id"),c=b+"-disp";a(c).maskMoney("destroy");a(c).maskMoney(eval(a(this).attr("data-krajee-maskMoney")));a(c).maskMoney("mask",parseFloat(a(b).val()));a(c).on("change",function(){var e=a(c).maskMoney("unmasked")[0];a(b).val(e);a(b).trigger("change")})});c=a(b.widgetItem).find("[data-krajee-fileinput]");
0<c.length&&c.each(function(){a(this).fileinput(eval(a(this).attr("data-krajee-fileinput")))});c=a(b.widgetItem).find("[data-krajee-touchspin]");0<c.length&&c.each(function(){a(this).TouchSpin(eval(a(this).attr("data-krajee-touchspin")))});c=a(b.widgetItem).find("[data-krajee-typeahead]");0<c.length&&c.each(function(){a(this).typeahead("destroy");var b=a(this).attr("data-template"),c=a(this).attr("data-empty"),f=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace(a(this).attr("data-display")),
queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:a(this).attr("data-url"),wildcard:"%QUERY"}});"undefined"!=typeof b?a(this).typeahead(null,{name:a(this).attr("id"),display:a(this).attr("data-display"),source:f,templates:{empty:[c],suggestion:Handlebars.compile(b)}}):a(this).typeahead(null,{name:a(this).attr("id"),display:a(this).attr("data-display"),source:f})});c=a(b.widgetItem).find("[data-krajee-spectrum]");0<c.length&&c.each(function(){var b="#"+a(this).attr("id"),c=b+"-source";a(c).spectrum("destroy");
a(c).unbind();a(b).unbind();var f=eval(a(this).attr("data-krajee-spectrum"));f.change=function(a){jQuery(b).val(a.toString())};a(c).attr("name",a(c).attr("id"));a(c).spectrum(f);a(c).spectrum("set",jQuery(b).val());a(b).on("change",function(){a(c).spectrum("set",jQuery(b).val())})});c=a(b.widgetItem).find("[data-krajee-depdrop]");0<c.length&&c.each(function(){void 0===a(this).data("select2")&&(a(this).removeData().off(),a(this).unbind(),x(a(this)))});c=a(b.widgetItem).find("[data-krajee-select2]");
0<c.length&&c.each(function(){var b=a(this).attr("id"),c=a("#"+b),f=eval(a(this).attr("data-krajee-select2"));a(this).data("select2")&&a(this).select2("destroy");var g=a(this).data("depdrop");g&&(g=a.extend(!0,{},g),a(this).removeData().off(),a(this).unbind(),x(a(this)));var h="undefined"!=typeof initSelect2Loading?initSelect2Loading:initS2Loading,k="undefined"!=typeof initSelect2DropStyle?initSelect2Loading:initS2Loading;a.when(a("#"+b).select2(f)).done(h(b,".select2-container--krajee"));var l="kv_close_"+
b.replace(/\-/g,"_");a("#"+b).on("select2:opening",function(a){k(b,l,a)});c.on("select2:unselect",function(){window[l]=!0});g&&initDepdropS2(b,g.loadingText?g.loadingText:"Loading ...");a(".kv-plugin-loading").remove()});c=a(b.widgetItem).find("[data-krajee-checkboxx]");0<c.length&&c.each(function(){if("cbx-loading"==a(this).attr("class")){var b=eval(a(this).attr("data-krajee-checkboxx"));a(this).checkboxX(b)}});b=a(b.widgetItem).find("[data-krajee-rating]");0<b.length&&b.each(function(){a(this).rating("destroy");
a(this).rating(eval(a(this).attr("data-krajee-rating")))})}})(window.jQuery);
